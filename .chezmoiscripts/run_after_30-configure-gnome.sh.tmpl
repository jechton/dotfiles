#!/usr/bin/env bash
# {{- if eq .de "gnome" -}}

# {{ template "scripts-library" }}

# The following line is for ShellCheck to correctly identify the above included library
true || source ../.chezmoitemplates/scripts-library

gsettings_ensure org.gnome.desktop.interface monospace-font-name "{{- .font.mono }} 11"
gsettings_ensure org.gnome.desktop.interface font-name "{{- .font.sans }} 11"
gsettings_ensure org.gnome.desktop.interface document-font-name "{{- .font.sans }} 11"

gsettings_ensure org.gnome.Ptyxis font-name "{{- .font.mono }} 12"

gsettings_ensure org.gnome.desktop.interface icon-theme "morewaita"
gsettings_ensure org.gnome.desktop.interface color-scheme "prefer-dark"
gsettings_ensure org.gnome.desktop.interface cursor-theme "Bibata Modern Classic"

gsettings_ensure org.gnome.settings-daemon.plugins.color night-light-enabled true
gsettings_ensure org.gnome.desktop.peripherals.mouse accel-profile "flat"

gsettings_ensure org.gnome.desktop.interface clock-show-date "true"
gsettings_ensure org.gnome.desktop.interface clock-show-weekday "true"

gsettings_ensure org.gnome.desktop.datetime automatic-timezone "true"

dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/name "'Terminal'"
dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/command "'flatpak run org.wezfurlong.wezterm'"
dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom0/binding "'<Control><Alt>t'"

dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom3/name "'Emoji'"
dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom3/command "'flatpak run com.tomjwatson.Emote'"
# {{ if eq .device_type "laptop" }}
dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom3/binding "'<Shift><Control><Alt><Super>space'"
# {{ else }}
dconf_ensure /org/gnome/settings-daemon/plugins/media-keys/custom-keybindings/custom3/binding "'<Super>period'"
# {{ end }}
dconf_ensure /org/gnome/shell/favorite-apps "['brave-browser.desktop', 'org.gnome.Nautilus.desktop', 'md.obsidian.Obsidian.desktop']"
# {{- end -}}
